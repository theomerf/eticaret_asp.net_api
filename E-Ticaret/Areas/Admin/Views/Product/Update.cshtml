
@model ProductDtoForUpdate

<div class="container py-4">
    <div class="row justify-content-center">
        <div class="col-lg-8">
            <div class="card shadow-sm border-0 rounded-lg">
                <div class="card-header bg-primary bg-gradient text-white">
                    <h4 class="my-2 text-center">
                        <i class="fa fa-edit me-2"></i>Ürün Güncelleme
                    </h4>
                </div>
                <div class="card-body p-4">
                    <form method="post" asp-action="Update" enctype="multipart/form-data">
                        <div class="text-danger" asp-validation-summary="All"></div>
                        <input type="hidden" asp-for="ProductId" />

                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <div class="form-floating">
                                    <select class="form-select" asp-items="@ViewBag.MainCategories" asp-for="MainCategoryId" id="mainCategory">
                                    </select>
                                    <label asp-for="MainCategoryId" for="mainCategory">Kategori</label>
                                </div>
                            </div>
                            <div class="col-md-6 mb-3">
                                <div class="form-floating">
                                    <select class="form-select" asp-items="@ViewBag.SubCategories" asp-for="SubCategoryId" id="subCategory">
                                    </select>
                                    <label asp-for="SubCategoryId" for="subCategory">Alt Kategori</label>
                                </div>
                            </div>
                        </div>

                        <div class="mb-3">
                            <div class="form-floating">
                                <input asp-for="ProductName" class="form-control" id="productName" placeholder="Ürün adını giriniz" />
                                <label asp-for="ProductName" for="productName">Ürün Adı</label>
                            </div>
                        </div>

                        <div class="mb-3">
                            <div class="form-floating">
                                <input asp-for="Summary" class="form-control" id="summary" placeholder="Ürün açıklamasını giriniz" />
                                <label asp-for="Summary" for="summary">Açıklama</label>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <div class="form-floating">
                                    <input asp-for="ActualPrice" class="form-control" id="actualPrice" placeholder="0.00" />
                                    <label asp-for="ActualPrice" for="actualPrice">Fiyat (₺)</label>
                                </div>
                            </div>
                            <div class="col-md-6 mb-3">
                                <div class="form-floating">
                                    <input asp-for="DiscountPrice" class="form-control" id="discountPrice" placeholder="0.00" />
                                    <label asp-for="DiscountPrice" for="discountPrice">İndirim Fiyatı (₺)</label>
                                </div>
                            </div>
                        </div>

                        <div class="form-check form-switch mb-4">
                            <input asp-for="ShowCase" class="form-check-input" type="checkbox" role="switch" id="showcaseSwitch">
                            <label class="form-check-label" for="showcaseSwitch">Öne Çıkar</label>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">Mevcut Görsel</label>
                            <div class="d-flex align-items-center">
                                <div class="position-relative">
                                    <img class="rounded img-thumbnail" style="max-width: 150px; max-height: 150px;" src="/images/@Model.ImageUrl" alt="Ürün görseli" />
                                    <input type="hidden" asp-for="ImageUrl" />
                                </div>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label asp-for="ImageUrl" class="form-label">Yeni Fotoğraf</label>
                            <div class="input-group">
                                <span class="input-group-text bg-light">
                                    <i class="fa fa-image"></i>
                                </span>
                                <input name="file" type="file" class="form-control" id="imageUpload" />
                            </div>
                            <div class="form-text">Yeni bir resim seçmezseniz mevcut resim korunacaktır.</div>
                        </div>

                        <div class="d-flex justify-content-between mt-4">
                            <a asp-action="Index" class="btn btn-outline-secondary">
                                <i class="fa fa-arrow-left me-1"></i>
                                Listeye Dön
                            </a>
                            <button class="btn btn-primary" type="submit">
                                <i class="fa fa-save me-1"></i>
                                Güncelle
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
